<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Traducteur</title>
  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f4f6f9;
      color: #333;
    }

    header {
      background: #4a90e2;
      color: white;
      padding: 20px;
      text-align: center;
      border-bottom: 4px solid #357abd;
    }

    main {
      max-width: 800px;
      margin: 30px auto;
      padding: 20px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    h1 {
      margin: 0;
      font-size: 28px;
    }

    p.description {
      text-align: center;
      font-size: 16px;
      margin-bottom: 20px;
      color: #555;
    }

    .center {
      text-align: center;
      margin-bottom: 20px;
    }

    input, select, button {
      padding: 10px;
      font-size: 16px;
      margin: 5px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    button {
      background: #4a90e2;
      color: white;
      border: none;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background: #357abd;
    }

    #resultat {
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
      text-align: center;
      color: #333;
    }

    #code-python {
      display: none;
      margin-top: 25px;
    }

    pre {
      background: #1e1e1e;
      color: #d4d4d4;
      padding: 15px;
      border-radius: 8px;
      overflow-x: auto;
      font-size: 14px;
      line-height: 1.5;
    }

    footer {
      text-align: center;
      margin-top: 30px;
      padding: 15px;
      font-size: 14px;
      background: #f0f0f0;
      border-top: 1px solid #ccc;
    }

    footer a {
      color: #4a90e2;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <header>
    <h1>Traducteur Fran√ßais ‚Üí Langues</h1>
  </header>

  <main>
    <p class="description">
      Petit traducteur multi-langues avec apprentissage automatique des nouveaux mots.
    </p>

    <div class="center">
      <label for="langue">Choisis une langue :</label>
      <select id="langue">
        <option value="anglais">Anglais</option>
        <option value="allemand">Allemand</option>
        <option value="espagnol">Espagnol</option>
        <option value="danois">Danois</option>
      </select>
      <br><br>
      <input type="text" id="mot" placeholder="√âcris un mot en fran√ßais...">
      <button onclick="traduire()">Traduire</button>
    </div>

    <div id="resultat"></div>

    <div class="center">
      <button onclick="toggleCode()">üìú Voir le code Python</button>
    </div>

    <div id="code-python">
      <h2>Code Python :</h2>
      <pre>
from operator import truediv
import json
import os

if os.path.exists("dictionnaires.json"):
    with open("dictionnaires.json", "r", encoding="utf-8") as f:
        dicos = json.load(f)
else:
    dicos = {
        "anglais": {
            "chat": "cat", "chien": "dog", "maison": "house", "voiture": "car", "soleil": "sun",
            "lune": "moon", "√©toile": "star", "arbre": "tree", "fleur": "flower", "eau": "water",
            "feu": "fire", "terre": "earth", "air": "air", "livre": "book", "chaise": "chair",
            "table": "table", "fen√™tre": "window", "porte": "door", "ville": "city", "pays": "country",
            "montagne": "mountain", "rivi√®re": "river", "mer": "sea", "plage": "beach", "ciel": "sky",
            "neige": "snow", "pluie": "rain", "vent": "wind", "oiseau": "bird", "poisson": "fish",
            "cheval": "horse"
        },
        "allemand": {
            "chat": "Katze", "chien": "Hund", "maison": "Haus", "voiture": "Auto", "soleil": "Sonne",
            "eau": "Wasser", "pain": "Brot", "livre": "Buch", "arbre": "Baum", "amour": "Liebe"
        },
        "danois": {
            "chat": "kat", "chien": "hund", "maison": "hus", "voiture": "bil", "soleil": "sol",
            "eau": "vand", "pain": "br√∏d", "livre": "bog", "arbre": "tr√¶", "amour": "k√¶rlighed"
        },
        "espagnol": {
            "chat": "gato", "chien": "perro", "maison": "casa", "voiture": "coche", "soleil": "sol",
            "eau": "agua", "pain": "pan", "livre": "libro", "arbre": "√°rbol", "amour": "amor"
        }
    }

fichier_comptes = "comptes.json"

if os.path.exists(fichier_comptes):
    with open(fichier_comptes, "r", encoding="utf-8") as f:
        comptes = json.load(f)
else:
    comptes = {}

VERT = "\033[92m"
RESET = "\033[0m"

while True:
    print("\n--- MENU ---")
    print("1. Cr√©er un compte")
    print("2. Se connecter")
    print("3. Quitter")
    choix = input("Choix : ")
    if choix == "1":
        username = input("username:")
        if username in comptes:
            print("nom d'utilisateur d√©j√† existant")
            continue
        password = input("password:")
        comptes[username] = password
        with open(fichier_comptes, "w", encoding="utf-8") as f:
            json.dump(comptes, f)

        print(f"bienvenue {username}")
        break
    elif choix == "2":
        username = input("username:")
        password = input("password:")
        if comptes.get(username) == password:
            print(f"bienvenue {username}")
            break
        else:
            print("nom d'utilisateur ou mots de passe incorrect")
    elif choix == "3":
        print("fin du programme")
        break
    else:
        print("option invalide")
        continue

langue = input("choisit la langue : ")
dictionnaire = dicos.get(langue)

if not dictionnaire:
    print("Langue invalide")
    exit()

while True:
    mot_fr = str(input("dit un mot fran√ßais : ")).lower()
    if mot_fr == "stop":
        break
    elif mot_fr == "change":
        langue = input("choisit la nouvelle langue : ")
        dictionnaire = dicos.get(langue)
        print(f"nouvelle langue : {langue}")
        continue
    if mot_fr in dictionnaire:
         print(f"en {langue} ont dit : {VERT}{dictionnaire[mot_fr]}{RESET}\n")
    else:
         traduction = input(f"je ne connais pas ce mot peut tu-me donner la traduction en {VERT}{langue}{RESET} ? : ").lower()
         dictionnaire[mot_fr] = traduction
         print("je l'ai ajout√© √† mon dictionnaire\n")
with open("dictionnaires.json", "w", encoding="utf-8") as f:
    json.dump(dicos, f, ensure_ascii=False, indent=4)
      </pre>
    </div>
  </main>

  <footer>
    <a href="../index.html" class="btn-retour">‚¨Ö Retour au portfolio</a>
  </footer>

  <script>
  // Charger ou initialiser le dictionnaire depuis le localStorage
  let dicos = JSON.parse(localStorage.getItem("dicos")) || {
    "anglais": {"chat": "cat", "chien": "dog", "maison": "house", "voiture": "car", "soleil": "sun"},
    "allemand": {"chat": "Katze", "chien": "Hund", "maison": "Haus", "voiture": "Auto", "soleil": "Sonne"},
    "espagnol": {"chat": "gato", "chien": "perro", "maison": "casa", "voiture": "coche", "soleil": "sol"},
    "danois": {"chat": "kat", "chien": "hund", "maison": "hus", "voiture": "bil", "soleil": "sol"}
  };

  function traduire() {
    const langue = document.getElementById("langue").value;
    const mot = document.getElementById("mot").value.toLowerCase();
    const resultDiv = document.getElementById("resultat");

    if (dicos[langue][mot]) {
      resultDiv.innerText = "En " + langue + ", '" + mot + "' = " + dicos[langue][mot];
    } else {
      // Demander la traduction √† l'utilisateur
      const traduction = prompt(`Je ne connais pas ce mot. Peux-tu me donner la traduction en ${langue} ?`);
      if (traduction) {
        dicos[langue][mot] = traduction.toLowerCase();
        localStorage.setItem("dicos", JSON.stringify(dicos));
        resultDiv.innerText = `Merci ! J'ai ajout√© '${mot}' = '${traduction}' en ${langue}.`;
      } else {
        resultDiv.innerText = "Aucune traduction ajout√©e.";
      }
    }
  }

  function toggleCode() {
    const codeDiv = document.getElementById("code-python");
    codeDiv.style.display = codeDiv.style.display === "none" ? "block" : "none";
  }
</script>

</body>
</html>
